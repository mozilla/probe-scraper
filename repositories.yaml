---
# The version tag is used to distinguish for the legacy repositories.yaml format
# that some probe-scraper code still expects. We downgrade to the old format
# where necessary.
version: "2"

# See https://mozilla.github.io/probe-scraper/#tag/library
libraries:
  - library_name: glean-core
    description: Modern cross-platform telemetry (core library)
    notification_emails:
      - aplacitelli@mozilla.com
      - glean-team@mozilla.com
    url: https://github.com/mozilla/glean
    metrics_files:
      - glean-core/metrics.yaml
    ping_files:
      - glean-core/pings.yaml
    variants:
      - v1_name: glean-core
        branch: main
        dependency_name: glean-core

  - library_name: glean-server
    description: Modern cross-platform telemetry (server usage)
    notification_emails:
      - glean-team@mozilla.com
    url: https://github.com/mozilla/glean_parser
    metrics_files: []
    ping_files:
      - server_telemetry/server-side-pings.yaml
    variants:
      - v1_name: glean-server
        branch: main
        dependency_name: glean-server

  - library_name: glean-server-metrics-compat
    description: >-
      Modern cross-platform telemetry (server usage).
      This is a temporary library to transition existing server applications to
      the new glean-server library. It is not intended for new applications.
    notification_emails:
      - glean-team@mozilla.com
    url: https://github.com/mozilla/glean_parser
    metrics_files:
      - server_telemetry/sdk-metrics-compat.yaml
    ping_files:
      - server_telemetry/server-side-pings.yaml
    variants:
      - v1_name: glean-server-metrics-compat
        branch: main
        dependency_name: glean-server-metrics-compat

  - library_name: glean-android
    description: Modern cross-platform telemetry (Android-specific)
    notification_emails:
      - aplacitelli@mozilla.com
      - glean-team@mozilla.com
    url: https://github.com/mozilla/glean
    metrics_files:
      - glean-core/android/metrics.yaml
    variants:
      - v1_name: glean-android
        branch: main
        dependency_name: org.mozilla.components:service-glean

  - library_name: lib-crash
    description: >-
      A generic crash reporter component that can report crashes to multiple
      services
    notification_emails:
      - aplacitelli@mozilla.com
      - glean-team@mozilla.com
      - android-probes@mozilla.com
    url: https://github.com/mozilla/gecko-dev
    metrics_files:
      - mobile/android/android-components/components/lib/crash/metrics.yaml
    ping_files:
      - mobile/android/android-components/components/lib/crash/pings.yaml
    variants:
      - v1_name: lib-crash
        dependency_name: org.mozilla.components:lib-crash

  - library_name: sync
    description: Sync telemetry helper functionality
    notification_emails:
      - sync-team@mozilla.com
    url: https://github.com/mozilla/application-services
    metrics_files:
      - components/sync_manager/metrics.yaml
    ping_files:
      - components/sync_manager/pings.yaml
    variants:
      - v1_name: sync
        dependency_name: org.mozilla.appservices:syncmanager
  - library_name: engine-gecko
    description: GeckoView metrics
    notification_emails:
      - aplacitelli@mozilla.com
      - android-components-team@mozilla.com
      - geckoview-team@mozilla.com
    url: https://github.com/mozilla/gecko-dev
    metrics_files: []
    variants:
      - v1_name: engine-gecko
        branch: release
        dependency_name: org.mozilla.components:browser-engine-gecko
      - v1_name: engine-gecko-beta
        branch: beta
        dependency_name: org.mozilla.components:browser-engine-gecko-beta
      - v1_name: engine-gecko-nightly
        dependency_name: org.mozilla.components:browser-engine-gecko-nightly

  - library_name: logins-store
    description: >-
      A collection of Android libraries to build browsers or browser-like
      applications
    notification_emails:
      - mhammond@mozilla.com
      - sync-team@mozilla.com
    url: https://github.com/mozilla/application-services
    metrics_files:
      - components/logins/android/metrics.yaml
    variants:
      - v1_name: logins-store
        branch: main
        dependency_name: org.mozilla.appservices:logins

  - library_name: fxa-client
    description: >-
      Application-services FxA client library
    notification_emails:
      - bdeankawamura@mozilla.com
      - sync-team@mozilla.com
    url: https://github.com/mozilla/application-services
    metrics_files:
      - components/fxa-client/android/metrics.yaml
    variants:
      - v1_name: fxa-client
        branch: main
        dependency_name: org.mozilla.appservices:fxaclient

  - library_name: support-migration
    description: >-
      Helper code to migrate from a Fennec-based (Firefox for Android) app to
      an Android Components based app
    notification_emails:
      - glean-team@mozilla.com
    url: https://github.com/mozilla-mobile/android-components
    metrics_files:
      - components/support/migration/metrics.yaml
    ping_files:
      - components/support/migration/pings.yaml
    variants:
      - v1_name: support-migration
        dependency_name: org.mozilla.components:support-migration
        deprecated: true

  - library_name: android-places
    description: >-
      A collection of Android libraries to build browsers or browser-like
      applications
    notification_emails:
      - sync-team@mozilla.com
    url: https://github.com/mozilla/application-services
    metrics_files:
      - components/places/android/metrics.yaml
    variants:
      - v1_name: android-places
        branch: main
        dependency_name: org.mozilla.components:places

  - library_name: glean-js
    description: Modern cross-platform telemetry (Javascript library)
    notification_emails:
      - aplacitelli@mozilla.com
      - glean-team@mozilla.com
      - brizental@mozilla.com
    url: https://github.com/mozilla/glean.js
    metrics_files:
      - glean/src/metrics.yaml
    ping_files:
      - glean/src/pings.yaml
    variants:
      - v1_name: glean-js
        branch: main
        dependency_name: glean-js

  - library_name: nimbus
    description: Rapid experimentation platform
    notification_emails:
      - tlong@mozilla.com
      - sync-team@mozilla.com
    url: https://github.com/mozilla/application-services
    metrics_files:
      - components/nimbus/metrics.yaml
    variants:
      - v1_name: nimbus
        branch: main
        dependency_name: nimbus

  - library_name: nimbus-cirrus
    description: >
      The Nimbus Cirrus Web server implementation,
      uses Nimbus under the hood
    notification_emails:
      - sync-team@mozilla.com
    url: https://github.com/mozilla/experimenter
    metrics_files:
      - cirrus/server/telemetry/metrics.yaml
    ping_files:
      - cirrus/server/telemetry/pings.yaml
    variants:
      - v1_name: nimbus-cirrus
        branch: main
        dependency_name: nimbus-cirrus

  - library_name: service-nimbus
    description: >
      The Nimbus Android-Component used by Fenix and Focus
    notification_emails:
      - sync-team@mozilla.com
    url: https://github.com/mozilla/gecko-dev
    metrics_files:
      - mobile/android/android-components/components/service/nimbus/metrics.yaml
    variants:
      - v1_name: service-nimbus
        dependency_name: org.mozilla.components:service-nimbus

  - library_name: gecko
    description: The browser engine developed by Mozilla
    notification_emails:
      - chutten@mozilla.com
    url: https://github.com/mozilla/gecko-dev
    metrics_files:
      - browser/base/content/metrics.yaml
      - docshell/base/metrics.yaml
      - dom/base/use_counter_metrics.yaml
      - dom/media/eme/metrics.yaml
      - dom/media/hls/metrics.yaml
      - dom/media/metrics.yaml
      - dom/media/webrtc/metrics.yaml
      - dom/metrics.yaml
      - dom/performance/metrics.yaml
      - dom/security/metrics.yaml
      - dom/webauthn/metrics.yaml
      - gfx/metrics.yaml
      - image/decoders/metrics.yaml
      - js/xpconnect/metrics.yaml
      - layout/base/metrics.yaml
      - mobile/shared/actors/metrics.yaml
      - mobile/shared/modules/geckoview/metrics.yaml
      - netwerk/metrics.yaml
      - netwerk/protocol/http/metrics.yaml
      - security/certverifier/metrics.yaml
      - security/manager/ssl/metrics.yaml
      - toolkit/components/antitracking/bouncetrackingprotection/metrics.yaml
      - toolkit/components/cookiebanners/metrics.yaml
      - toolkit/components/extensions/metrics.yaml
      - toolkit/components/formautofill/metrics.yaml
      - toolkit/components/glean/metrics.yaml
      - toolkit/components/passwordmgr/metrics.yaml
      - toolkit/components/pdfjs/metrics.yaml
      - toolkit/components/processtools/metrics.yaml
      - toolkit/components/reportbrokensite/metrics.yaml
      - toolkit/components/resistfingerprinting/metrics.yaml
      - toolkit/components/translations/metrics.yaml
      - toolkit/mozapps/extensions/metrics.yaml
      - toolkit/mozapps/handling/metrics.yaml
      - toolkit/xre/metrics.yaml
      - xpcom/metrics.yaml
    ping_files:
      - dom/pings.yaml
      - toolkit/components/antitracking/bouncetrackingprotection/pings.yaml
      - toolkit/components/glean/pings.yaml
      - toolkit/components/reportbrokensite/pings.yaml
    tag_files:
      - toolkit/components/glean/tags.yaml
    variants:
      - v1_name: gecko
        dependency_name: gecko

# See https://mozilla.github.io/probe-scraper/#tag/application
applications:
  - app_name: firefox_desktop
    canonical_app_name: Firefox for Desktop
    app_description: The desktop version of Firefox
    url: https://github.com/mozilla/gecko-dev
    notification_emails:
      - chutten@mozilla.com
    metrics_files:
      - browser/components/backup/metrics.yaml
      - browser/components/genai/metrics.yaml
      - browser/components/metrics.yaml
      - browser/components/migration/metrics.yaml
      - browser/components/newtab/metrics.yaml
      - browser/components/pocket/metrics.yaml
      - browser/components/preferences/metrics.yaml
      - browser/components/privatebrowsing/metrics.yaml
      - browser/components/protocolhandler/metrics.yaml
      - browser/components/search/metrics.yaml
      - browser/components/shopping/metrics.yaml
      - browser/components/urlbar/metrics.yaml
      - browser/modules/metrics.yaml
      - dom/media/platforms/wmf/metrics.yaml
      - dom/privateattribution/metrics.yaml
      - services/fxaccounts/metrics.yaml
      - toolkit/components/contentrelevancy/metrics.yaml
      - toolkit/components/crashes/metrics.yaml
      - toolkit/components/nimbus/metrics.yaml
      - toolkit/components/search/metrics.yaml
      - toolkit/components/shopping/metrics.yaml
      - toolkit/components/telemetry/dap/metrics.yaml
      - toolkit/components/telemetry/metrics.yaml
      - toolkit/modules/metrics.yaml
      - widget/cocoa/metrics.yaml
      - widget/windows/metrics.yaml
    ping_files:
      - browser/components/newtab/pings.yaml
      - browser/components/pocket/pings.yaml
      - browser/components/search/pings.yaml
      - browser/components/urlbar/pings.yaml
      - browser/modules/pings.yaml
      - services/fxaccounts/pings.yaml
      - toolkit/components/crashes/pings.yaml
      - toolkit/components/resistfingerprinting/pings.yaml
      - toolkit/components/telemetry/pings.yaml
      - toolkit/modules/pings.yaml
    tag_files:
      - toolkit/components/glean/tags.yaml
    dependencies:
      - gecko
      - glean-core
      # does not actually depend on glean-android, including for backwards
      # compat
      - org.mozilla.components:service-glean
    channels:
      - v1_name: firefox-desktop
        app_id: firefox.desktop
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 400
    moz_pipeline_metadata:
      pageload:
        expiration_policy:
          delete_after_days: 120
      top-sites:
        expiration_policy:
          delete_after_days: 30
        override_attributes:
          - name: "geo_city"
            value: null
        submission_timestamp_granularity: "seconds"
      quick-suggest:
        expiration_policy:
          delete_after_days: 30
        override_attributes:
          - name: "geo_city"
            value: null
        submission_timestamp_granularity: "seconds"
      spoc:
        expiration_policy:
          delete_after_days: 180
      baseline:
        expiration_policy:
          delete_after_days: 10000
      crash:
        expiration_policy:
          delete_after_days: 1130
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      first-startup:
        expiration_policy:
          delete_after_days: 1130
      fog-validation:
        expiration_policy:
          delete_after_days: 10000
      metrics:
        expiration_policy:
          delete_after_days: 10000
      new-metric-capture-emulation:
        expiration_policy:
          delete_after_days: 1130
      newtab:
        expiration_policy:
          delete_after_days: 1130
      pseudo-main:
        expiration_policy:
          delete_after_days: 1130

  - app_name: firefox_desktop_background_update
    canonical_app_name: Firefox for Desktop Background Update Task
    app_description: >-
      Firefox Desktop's background update task. This is
      considered a separate application because it has its own client
      id and sends its own version of the standard pings.
    url: https://github.com/mozilla/gecko-dev
    notification_emails:
      - chutten@mozilla.com
    metrics_files:
      - toolkit/components/crashes/metrics.yaml
      - toolkit/mozapps/update/metrics.yaml
    ping_files:
      - toolkit/components/crashes/pings.yaml
      - toolkit/mozapps/update/pings.yaml
    tag_files:
      - toolkit/components/glean/tags.yaml
    dependencies:
      - gecko
      - glean-core
    channels:
      - v1_name: firefox-desktop-background-update
        app_id: firefox.desktop.background.update
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 400
    moz_pipeline_metadata:
      background-update:
        expiration_policy:
          delete_after_days: 10000
      baseline:
        expiration_policy:
          delete_after_days: 10000
      crash:
        expiration_policy:
          delete_after_days: 1130
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      fog-validation:
        expiration_policy:
          delete_after_days: 1130
      metrics:
        expiration_policy:
          delete_after_days: 10000

  - app_name: firefox_desktop_background_defaultagent
    canonical_app_name: Firefox Desktop Default Agent Task
    app_description: >-
      The Firefox Default Agent background task is a scheduled
      task which monitors system defaults and provides
      interventions to revert changes in response to known
      deceptive patterns.

      Also known as Windows Default Browser Agent (WDBA).
    url: https://github.com/mozilla/gecko-dev
    notification_emails:
      - nrishel@mozilla.com
      - install-update@mozilla.com
    metrics_files:
      - toolkit/mozapps/defaultagent/metrics.yaml
    ping_files:
      - toolkit/mozapps/defaultagent/pings.yaml
    tag_files:
      - toolkit/components/glean/tags.yaml
    dependencies:
      - glean-core
    channels:
      - v1_name: firefox-desktop-background-defaultagent
        app_id: firefox.desktop.background.defaultagent
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 400

  - app_name: pine
    canonical_app_name: Pinebuild
    app_description: >-
      The pine build of mozilla-central.
    url: https://github.com/mozilla/gecko-dev
    notification_emails:
      - chutten@mozilla.com
    metrics_files:
      - browser/components/metrics.yaml
      - browser/components/newtab/metrics.yaml
      - browser/components/search/metrics.yaml
      - browser/modules/metrics.yaml
      - toolkit/components/search/metrics.yaml
      - toolkit/components/telemetry/metrics.yaml
    ping_files:
      - browser/components/newtab/pings.yaml
      - toolkit/components/telemetry/pings.yaml
    tag_files:
      - toolkit/components/glean/tags.yaml
    dependencies:
      - gecko
      - glean-core
      # does not actually depend on glean-android, including for backwards
      # compat
      - org.mozilla.components:service-glean
    channels:
      - v1_name: pine
        app_id: pine
    skip_documentation: true
    deprecated: true
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 400
    moz_pipeline_metadata:
      baseline:
        expiration_policy:
          delete_after_days: 1130
      deletion-request:
        expiration_policy:
          delete_after_days: 1130
      events:
        expiration_policy:
          delete_after_days: 1130
      fog-validation:
        expiration_policy:
          delete_after_days: 1130
      metrics:
        expiration_policy:
          delete_after_days: 1130
      new-metric-capture-emulation:
        expiration_policy:
          delete_after_days: 1130
      newtab:
        expiration_policy:
          delete_after_days: 1130
      pseudo-main:
        expiration_policy:
          delete_after_days: 1130

  - app_name: fenix
    app_description: Firefox for Android (Fenix)
    canonical_app_name: Firefox for Android
    url: https://github.com/mozilla/gecko-dev
    notification_emails:
      - aplacitelli@mozilla.com
    metrics_files:
      - mobile/android/fenix/app/metrics.yaml
    ping_files:
      - mobile/android/fenix/app/pings.yaml
    tag_files:
      - mobile/android/fenix/app/tags.yaml
    dependencies:
      - gecko
      - glean-core
      - org.mozilla.components:service-glean
      - org.mozilla.components:lib-crash
      - org.mozilla.appservices:syncmanager
      - org.mozilla.appservices:logins
      - org.mozilla.components:support-migration
      - org.mozilla.components:places
      - org.mozilla.appservices:fxaclient
      - nimbus
      - org.mozilla.components:service-nimbus
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 400
    moz_pipeline_metadata:
      topsites-impression:
        expiration_policy:
          delete_after_days: 30
        override_attributes:
          - name: "geo_city"
            value: null
        submission_timestamp_granularity: "seconds"
      spoc:
        expiration_policy:
          delete_after_days: 180
      activation:
        expiration_policy:
          delete_after_days: 10000
      addresses-sync:
        expiration_policy:
          delete_after_days: 1130
      baseline:
        expiration_policy:
          delete_after_days: 10000
      bookmarks-sync:
        expiration_policy:
          delete_after_days: 10000
      client-deduplication:
        expiration_policy:
          delete_after_days: 1130
      cookie-banner-report-site:
        expiration_policy:
          delete_after_days: 1130
      crash:
        expiration_policy:
          delete_after_days: 1130
      creditcards-sync:
        expiration_policy:
          delete_after_days: 1130
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      first-session:
        expiration_policy:
          delete_after_days: 10000
      fog-validation:
        expiration_policy:
          delete_after_days: 1130
      history-sync:
        expiration_policy:
          delete_after_days: 10000
      installation:
        expiration_policy:
          delete_after_days: 10000
      logins-sync:
        expiration_policy:
          delete_after_days: 10000
      metrics:
        expiration_policy:
          delete_after_days: 10000
      migration:
        expiration_policy:
          delete_after_days: 10000
      startup-timeline:
        expiration_policy:
          delete_after_days: 10000
      sync:
        expiration_policy:
          delete_after_days: 10000
      tabs-sync:
        expiration_policy:
          delete_after_days: 1130
    channels:
      - v1_name: firefox-android-release
        app_id: org.mozilla.firefox
        app_channel: release
        additional_dependencies:
          - org.mozilla.components:browser-engine-gecko
        description: >-
          Release channel of Firefox for Android.
      - v1_name: firefox-android-beta
        app_id: org.mozilla.firefox_beta
        app_channel: beta
        additional_dependencies:
          - org.mozilla.components:browser-engine-gecko-beta
        description: >-
          Beta channel of Firefox for Android.
      - v1_name: fenix
        app_id: org.mozilla.fenix
        app_channel: nightly
        additional_dependencies:
          - org.mozilla.components:browser-engine-gecko-beta
        description: >-
          Nightly channel of Firefox for Android.
          Prior to June 2020, this app_id was used for the beta channel
          of Firefox Preview.
      - v1_name: fenix-nightly
        app_id: org.mozilla.fenix.nightly
        app_channel: nightly
        additional_dependencies:
          - org.mozilla.components:browser-engine-gecko-nightly
        description: >-
          Nightly channel of Firefox Preview.
      - v1_name: firefox-android-nightly
        app_id: org.mozilla.fennec.aurora
        app_channel: nightly
        additional_dependencies:
          - org.mozilla.components:browser-engine-gecko-beta
        description: >-
          Nightly channel of Firefox for Android users migrated to Fenix;
          delisted in June 2020.

  - app_name: firefox_ios
    canonical_app_name: Firefox for iOS
    app_description: Firefox for iOS
    notification_emails:
      - tlong@mozilla.com
    url: https://github.com/mozilla-mobile/firefox-ios
    metrics_files:
      - firefox-ios/Client/metrics.yaml
      - firefox-ios/Storage/metrics.yaml
    ping_files:
      - firefox-ios/Client/pings.yaml
    tag_files:
      - firefox-ios/Client/tags.yaml
    branch: main
    dependencies:
      - glean-core
      # does not actually depend on glean-android, including for backwards
      # compat
      - org.mozilla.components:service-glean
      - nimbus
      - org.mozilla.appservices:logins
      - org.mozilla.appservices:syncmanager
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 400
    moz_pipeline_metadata:
      topsites-impression:
        expiration_policy:
          delete_after_days: 30
        override_attributes:
          - name: "geo_city"
            value: null
        submission_timestamp_granularity: "seconds"
      baseline:
        expiration_policy:
          delete_after_days: 10000
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      first-session:
        expiration_policy:
          delete_after_days: 1130
      metrics:
        expiration_policy:
          delete_after_days: 10000
      temp-bookmarks-sync:
        expiration_policy:
          delete_after_days: 1130
      temp-clients-sync:
        expiration_policy:
          delete_after_days: 1130
      temp-history-sync:
        expiration_policy:
          delete_after_days: 1130
      temp-logins-sync:
        expiration_policy:
          delete_after_days: 1130
      temp-rust-tabs-sync:
        expiration_policy:
          delete_after_days: 1130
      temp-sync:
        expiration_policy:
          delete_after_days: 1130
      temp-tabs-sync:
        expiration_policy:
          delete_after_days: 1130
    channels:
      - v1_name: firefox-ios-release
        app_id: org.mozilla.ios.Firefox
        app_channel: release
        description: >-
          Release channel of Firefox for iOS.
      - v1_name: firefox-ios-beta
        app_id: org.mozilla.ios.FirefoxBeta
        app_channel: beta
        description: >-
          Beta channel of Firefox for iOS.
      - v1_name: firefox-ios-dev
        app_id: org.mozilla.ios.Fennec
        app_channel: nightly
        description: >-
          Nightly channel of Firefox for iOS.

  - app_name: reference_browser
    canonical_app_name: Reference Browser
    app_description: >-
      A full-featured browser reference implementation using Mozilla Android
      Components
    notification_emails:
      - aplacitelli@mozilla.com
    url: https://github.com/mozilla-mobile/reference-browser
    prototype: true
    metrics_files:
      - app/metrics.yaml
    dependencies:
      - glean-core
      - org.mozilla.components:service-glean
      - org.mozilla.components:lib-crash
    channels:
      - v1_name: reference-browser
        app_id: org.mozilla.reference.browser
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130
    moz_pipeline_metadata:
      baseline:
        expiration_policy:
          delete_after_days: 10000
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      metrics:
        expiration_policy:
          delete_after_days: 10000

  - app_name: firefox_fire_tv
    canonical_app_name: Firefox for Fire TV
    app_description: Firefox for Amazon's Fire TV
    deprecated: true
    notification_emails:
      - glean-team@mozilla.com
    url: https://github.com/mozilla-mobile/firefox-tv
    metrics_files:
      - app/metrics.yaml
    dependencies:
      - glean-core
      - org.mozilla.components:service-glean
    channels:
      - v1_name: firefox-for-fire-tv
        app_id: org.mozilla.tv.firefox
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130
    moz_pipeline_metadata:
      baseline:
        expiration_policy:
          delete_after_days: 10000
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      metrics:
        expiration_policy:
          delete_after_days: 10000

  - app_name: firefox_reality
    canonical_app_name: Firefox Reality
    app_description: >-
      A fast and secure browser for standalone virtual-reality and
      augmented-reality headsets
    deprecated: true
    notification_emails:
      - glean-team@mozilla.com
    branch: main
    url: https://github.com/MozillaReality/FirefoxReality
    metrics_files:
      - app/metrics.yaml
    ping_files:
      - app/pings.yaml
    dependencies:
      - glean-core
      - org.mozilla.components:service-glean
      - org.mozilla.appservices:syncmanager
    channels:
      - v1_name: firefox-reality
        app_id: org.mozilla.vrbrowser
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130
    moz_pipeline_metadata:
      baseline:
        expiration_policy:
          delete_after_days: 10000
      bookmarks-sync:
        expiration_policy:
          delete_after_days: 10000
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      history-sync:
        expiration_policy:
          delete_after_days: 10000
      logins-sync:
        expiration_policy:
          delete_after_days: 10000
      metrics:
        expiration_policy:
          delete_after_days: 10000
      session-end:
        expiration_policy:
          delete_after_days: 10000
      sync:
        expiration_policy:
          delete_after_days: 10000

  - app_name: lockwise_android
    canonical_app_name: Lockwise for Android
    app_description: >-
      Firefox's Lockwise app for Android
    deprecated: true
    notification_emails:
      - glean-team@mozilla.com
    url: https://github.com/mozilla-lockwise/lockwise-android
    metrics_files:
      - app/metrics.yaml
    dependencies:
      - glean-core
      - org.mozilla.components:service-glean
      - org.mozilla.appservices:syncmanager
    channels:
      - v1_name: lockwise-android
        app_id: mozilla.lockbox
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130
    moz_pipeline_metadata:
      baseline:
        expiration_policy:
          delete_after_days: 10000
      bookmarks-sync:
        expiration_policy:
          delete_after_days: 10000
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      history-sync:
        expiration_policy:
          delete_after_days: 10000
      logins-sync:
        expiration_policy:
          delete_after_days: 10000
      metrics:
        expiration_policy:
          delete_after_days: 10000
      sync:
        expiration_policy:
          delete_after_days: 10000

  - app_name: lockwise_ios
    canonical_app_name: Lockwise for iOS
    app_description: >-
      Firefox's Lockwise app for iOS
    deprecated: true
    notification_emails:
      - tlong@mozilla.com
    url: https://github.com/mozilla-lockwise/lockwise-ios
    dependencies:
      - glean-core
      - org.mozilla.components:service-glean
    channels:
      - v1_name: lockwise-ios
        app_id: org.mozilla.ios.Lockbox
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130
    moz_pipeline_metadata:
      baseline:
        expiration_policy:
          delete_after_days: 10000
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      metrics:
        expiration_policy:
          delete_after_days: 10000

  - app_name: mozregression
    canonical_app_name: mozregression
    app_description: Regression range finder for Mozilla nightly builds
    notification_emails:
      - zeid@mozilla.com
    url: https://github.com/mozilla/mozregression
    metrics_files:
      - mozregression/metrics.yaml
    ping_files:
      - mozregression/pings.yaml
    dependencies:
      - glean-core
      # does not actually depend on glean-android, including for backwards
      # compat
      - org.mozilla.components:service-glean
    channels:
      - v1_name: mozregression
        app_id: org.mozilla.mozregression
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130
    moz_pipeline_metadata:
      baseline:
        expiration_policy:
          delete_after_days: 10000
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      metrics:
        expiration_policy:
          delete_after_days: 10000
      usage:
        expiration_policy:
          delete_after_days: 10000

  - app_name: burnham
    canonical_app_name: Burnham
    app_description: Automated end-to-end testing for Mozilla's Glean telemetry
    # See
    # https://github.com/mozilla/burnham/commit/6501fbfbb3612e63425bbf69aad11b0e67362b66
    deprecated: true
    notification_emails:
      - rpierzina@mozilla.com
    url: https://github.com/mozilla/burnham
    branch: main
    metrics_files:
      - application/src/burnham/config/metrics.yaml
    ping_files:
      - application/src/burnham/config/pings.yaml
    tag_files:
      - application/src/burnham/config/tags.yaml
    dependencies:
      - glean-core
      # does not actually depend on glean-android, including for backwards
      # compat
      - org.mozilla.components:service-glean
    prototype: false
    channels:
      - v1_name: burnham
        app_id: burnham
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130
    moz_pipeline_metadata:
      baseline:
        expiration_policy:
          delete_after_days: 10000
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      discovery:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      metrics:
        expiration_policy:
          delete_after_days: 10000
      space-ship-ready:
        expiration_policy:
          delete_after_days: 10000
      starbase46:
        expiration_policy:
          delete_after_days: 10000

  - app_name: mozphab
    canonical_app_name: mozphab
    app_description: Phabricator review submission/management tool
    notification_emails:
      - zeid@mozilla.com
    url: https://github.com/mozilla-conduit/review
    metrics_files:
      - mozphab/metrics.yaml
    ping_files:
      - mozphab/pings.yaml
    dependencies:
      - glean-core
      # does not actually depend on glean-android, including for backwards
      # compat
      - org.mozilla.components:service-glean
    channels:
      - v1_name: mozphab
        app_id: mozphab
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130
    moz_pipeline_metadata:
      baseline:
        expiration_policy:
          delete_after_days: 10000
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      metrics:
        expiration_policy:
          delete_after_days: 10000
      usage:
        expiration_policy:
          delete_after_days: 10000

  - app_name: firefox_echo_show
    canonical_app_name: Firefox for Echo Show
    app_description: Firefox for Amazon's Echo Show
    deprecated: true
    url: https://github.com/mozilla-mobile/firefox-echo-show
    notification_emails:
      - tlong@mozilla.com
    metrics_files:
      - app/metrics.yaml
    dependencies:
      - glean-core
      - org.mozilla.components:service-glean
    channels:
      - v1_name: firefox-for-echo-show
        app_id: org.mozilla.connect.firefox
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130
    moz_pipeline_metadata:
      baseline:
        expiration_policy:
          delete_after_days: 10000
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      metrics:
        expiration_policy:
          delete_after_days: 10000

  - app_name: firefox_reality_pc
    canonical_app_name: Firefox Reality for PC-connected VR platforms
    app_description: Firefox Reality for PC-connected VR platforms
    deprecated: true
    url: https://github.com/MozillaReality/FirefoxRealityPC
    notification_emails:
      - dmu@mozilla.com
    metrics_files:
      - Source/FirefoxRealityUnity/metrics.yaml
    ping_files:
      - Source/FirefoxRealityUnity/pings.yaml
    dependencies:
      - glean-core
    channels:
      - v1_name: firefox-reality-pc
        app_id: org.mozilla.firefoxreality
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130
    moz_pipeline_metadata:
      baseline:
        expiration_policy:
          delete_after_days: 10000
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      launch:
        expiration_policy:
          delete_after_days: 10000
      metrics:
        expiration_policy:
          delete_after_days: 10000

  - app_name: mach
    canonical_app_name: mach
    app_description: Mach build telemetry
    url: https://github.com/mozilla/gecko-dev
    notification_emails:
      - mhentges@mozilla.com
    metrics_files:
      - python/mach/metrics.yaml
      - python/mozbuild/metrics.yaml
    ping_files:
      - python/mach/pings.yaml
    dependencies:
      - glean-core
      # does not actually depend on glean-android, including for backwards
      # compat
      - org.mozilla.components:service-glean
    channels:
      - v1_name: mach
        app_id: mozilla-mach
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130
    moz_pipeline_metadata:
      baseline:
        expiration_policy:
          delete_after_days: 10000
      deletion-request:
        expiration_policy:
          delete_after_days: 10000
      events:
        expiration_policy:
          delete_after_days: 10000
      metrics:
        expiration_policy:
          delete_after_days: 10000
      usage:
        expiration_policy:
          delete_after_days: 10000

  - app_name: focus_ios
    canonical_app_name: Firefox Focus for iOS
    app_description: Firefox Focus on iOS. Klar is the sibling application
    url: https://github.com/mozilla-mobile/firefox-ios
    notification_emails:
      - sarentz@mozilla.com
      - tlong@mozilla.com
    branch: main
    metrics_files:
      - focus-ios/Blockzilla/metrics.yaml
    dependencies:
      - glean-core
      - nimbus
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 720
    channels:
      - v1_name: firefox-focus-ios
        app_id: org.mozilla.ios.Focus

  - app_name: klar_ios
    canonical_app_name: Firefox Klar for iOS
    app_description: Firefox Klar on iOS. Focus is the sibling application
    url: https://github.com/mozilla-mobile/firefox-ios
    notification_emails:
      - sarentz@mozilla.com
      - tlong@mozilla.com
    branch: main
    metrics_files:
      - focus-ios/Blockzilla/metrics.yaml
    dependencies:
      - glean-core
      - nimbus
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 720
    channels:
      - v1_name: firefox-klar-ios
        app_id: org.mozilla.ios.Klar

  - app_name: focus_android
    canonical_app_name: Firefox Focus for Android
    app_description: Firefox Focus on Android. Klar is the sibling application
    url: https://github.com/mozilla/gecko-dev
    notification_emails:
      - jalmeida@mozilla.com
      - tlong@mozilla.com
    metrics_files:
      - mobile/android/focus-android/app/metrics.yaml
    ping_files:
      - mobile/android/focus-android/app/pings.yaml
    dependencies:
      - glean-core
      - org.mozilla.components:service-glean
      - org.mozilla.components:lib-crash
      - nimbus
      - org.mozilla.components:service-nimbus
      - gecko
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 760
    channels:
      - v1_name: firefox-focus-android
        app_id: org.mozilla.focus
        app_channel: release
        description: >-
          Release channel of Focus for Android.
      - v1_name: firefox-focus-android-beta
        app_id: org.mozilla.focus.beta
        app_channel: beta
        description: >-
          Beta channel of Focus for Android.
      - v1_name: firefox-focus-android-nightly
        app_id: org.mozilla.focus.nightly
        app_channel: nightly
        description: >-
          Nightly channel of Focus for Android.

  - app_name: klar_android
    canonical_app_name: Firefox Klar for Android
    app_description: Firefox Klar on Android. Focus is the sibling application
    url: https://github.com/mozilla/gecko-dev
    notification_emails:
      - jalmeida@mozilla.com
      - tlong@mozilla.com
    metrics_files:
      - mobile/android/focus-android/app/metrics.yaml
    ping_files:
      - mobile/android/focus-android/app/pings.yaml
    dependencies:
      - glean-core
      - org.mozilla.components:service-glean
      - org.mozilla.components:lib-crash
      - nimbus
      - org.mozilla.components:service-nimbus
      - gecko
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 760
    channels:
      - v1_name: firefox-klar-android
        app_id: org.mozilla.klar

  - app_name: bergamot
    canonical_app_name: Bergamot Translator
    app_description: Web extension for on-device machine translation
    deprecated: true
    url: https://github.com/mozilla-extensions/firefox-translations
    notification_emails:
      - epavlov@mozilla.com
    branch: legacy
    metrics_files:
      - src/core/ts/background-scripts/background.js/telemetry/metrics.yaml
    ping_files:
      - src/core/ts/background-scripts/background.js/telemetry/pings.yaml
    dependencies:
      - glean-js
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 180
    channels:
      - v1_name: bergamot
        app_id: org.mozilla.bergamot

  - app_name: firefox_translations
    canonical_app_name: Firefox Translations
    app_description: Web extension for on-device machine translation
    deprecated: true
    url: https://github.com/mozilla/firefox-translations
    notification_emails:
      - epavlov@mozilla.com
    branch: main
    metrics_files:
      - extension/model/telemetry/metrics.yaml
    ping_files:
      - extension/model/telemetry/pings.yaml
    dependencies:
      - glean-js
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 180
    channels:
      - v1_name: firefox-translations
        app_id: firefox-translations

  - app_name: rally_debug
    canonical_app_name: Rally Core Add-on Debug Ingestion
    app_description: Rally Core Add-on debug ingestion
    # See
    # https://github.com/mozilla-rally/rally-core-addon/commit/1e2996f8488d4cb1027bc62ff57ad1843caa5f59
    deprecated: true
    prototype: true
    url: https://github.com/mozilla-rally/rally-core-addon
    notification_emails:
      - than@mozilla.com
    branch: master
    metrics_files:
      - metrics.yaml
    ping_files:
      - pings.yaml
    dependencies:
      - glean-js
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 180
        collect_through_date: "2023-03-27"
      jwe_mappings:
        - source_field_path: /payload
          decrypted_field_path: ""
    channels:
      - v1_name: rally-debug
        app_id: rally.debug
        deprecated: true
    skip_documentation: true

  - app_name: rally_core
    canonical_app_name: Rally Core Add-on and Web Platform
    app_description: |
      The Rally Core Add-on and Web Platform orchestrates the
      installation and the lifecycle of [Rally](https://rally.mozilla.org/)
      studies.
    # See
    # https://github.com/mozilla-rally/rally/commit/7e4f04536d849c39d15becb283f0b5013a0d928b
    deprecated: true
    url: https://github.com/mozilla-rally/rally
    notification_emails:
      - than@mozilla.com
      - aagarwal@mozilla.com
      - rhelmer@mozilla.com
    branch: main
    metrics_files:
      - web-platform/glean/metrics.yaml
    ping_files:
      - web-platform/glean/pings.yaml
    dependencies:
      - glean-js
    moz_pipeline_metadata_defaults:
      jwe_mappings:
        - source_field_path: /payload
          decrypted_field_path: ""
      expiration_policy:
        collect_through_date: "2023-03-27"
    channels:
      - v1_name: rally-core
        app_id: rally-core
    skip_documentation: true

  - app_name: mozilla_vpn
    canonical_app_name: Mozilla VPN
    app_description: |
      Mozilla VPN is a VPN client application. The first
      Mozilla premium service.
    url: https://github.com/mozilla-mobile/mozilla-vpn-client
    notification_emails:
      - vpn@mozilla.com
      - amarchesini@mozilla.com
      - brizental@mozilla.com
      - mcleinman@mozilla.com
    branch: main
    metrics_files:
      - src/telemetry/metrics.yaml
      - src/telemetry/impression_metrics.yaml
      - src/telemetry/interaction_metrics.yaml
      - src/telemetry/outcome_metrics.yaml
    ping_files:
      - src/telemetry/pings.yaml
    dependencies: []  # Empty. Dependencies are set per channel.
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 180
    channels:
      - v1_name: mozilla-vpn
        app_id: mozillavpn
        app_channel: release
        additional_dependencies:
          - glean-core
      - v1_name: mozilla-vpn-android
        app_id: org.mozilla.firefox.vpn
        app_channel: release
        description: Mozilla VPN (Android)
        additional_dependencies:
          - glean-core
          - org.mozilla.components:service-glean
      - v1_name: mozilla-vpn-ios
        app_id: org.mozilla.ios.FirefoxVPN
        app_channel: release
        description: Mozilla VPN (iOS)
        additional_dependencies:
          - glean-core
      - v1_name: mozilla-vpn-ios-network-ext
        app_id: org.mozilla.ios.FirefoxVPN.network-extension
        app_channel: release
        description: |
          Mozilla VPN is a VPN client application. This is for
          the iOS network extension, which runs the VPN logic.
        additional_dependencies:
          - glean-core

  - app_name: mozillavpn_backend_cirrus
    canonical_app_name: Mozilla VPN Cirrus Sidecar
    app_description: |
      The sidecar Cirrus container for the Mozilla VPN server
    url: https://github.com/mozilla-services/guardian-website
    notification_emails:
      - brizental@mozilla.com
    branch: main
    metrics_files: []
    ping_files: []
    dependencies:
      - glean-core
      - nimbus-cirrus
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 180
    channels:
      - v1_name: mozillavpn-backend-cirrus
        app_id: mozillavpn_backend_cirrus

  - app_name: rally_study_zero_one
    canonical_app_name: Rally Study-01
    app_description: |
      This is an exploratory study on what sites people
      use and how long they use them, for the Rally
      platform. It is implemented as a cross-browser
      WebExtension.
    deprecated: true
    url: https://github.com/mozilla-rally/rally-study-01
    notification_emails:
      - than@mozilla.com
      - hulmer@mozilla.com
    branch: master
    metrics_files:
      - metrics.yaml
    ping_files:
      - pings.yaml
    dependencies:
      - glean-js
    moz_pipeline_metadata_defaults:
      jwe_mappings:
        - source_field_path: /payload
          decrypted_field_path: ""
      expiration_policy:
        collect_through_date: "2022-12-31"
    channels:
      - v1_name: rally-study-zero-one
        app_id: rally-study-zero-one
    skip_documentation: true

  - app_name: mlhackweek_search
    canonical_app_name: ML Hack Week Search App
    app_description: |
      This application collects search terms and results to build a data set
      for a Data Org Hack Week.
    deprecated: true
    url: https://github.com/mozilla/mlhackweek2021
    notification_emails:
      - gleonard@mozilla.com
    branch: main
    metrics_files:
      - searchapp/mysite/searchranking/glean_config/metrics.yaml
    ping_files:
      - searchapp/mysite/searchranking/glean_config/pings.yaml
    dependencies:
      - glean-core
    channels:
      - v1_name: mlhackweek-search
        app_id: mlhackweek-search
    skip_documentation: true
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130

  - app_name: regrets_reporter
    canonical_app_name: RegretsReporter
    app_description: |
      The RegretsReporter extension gives you a way to easily report bad or
      unwanted YouTube recommended videos to control your YouTube
      experience and power Mozilla’s research into YouTube’s recommendation
      algorithm.
    deprecated: true
    url: https://github.com/mozilla-extensions/regrets-reporter
    notification_emails:
      - jessed@mozillafoundation.org
      - rebeccar@mozillafoundation.org
    branch: main
    metrics_files:
      - source/telemetry/metrics.yaml
    ping_files:
      - source/telemetry/pings.yaml
    dependencies:
      - glean-js
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 730
    channels:
      - v1_name: regrets-reporter-ucs
        app_id: regrets.reporter.ucs

  - app_name: rally_markup_fb_pixel_hunt
    canonical_app_name: Rally Facebook Pixel Hunt
    app_description: |
      In a collaboration between journalists at the Markup and Mozilla,
      this study seeks to map Facebook’s pixel tracking network and
      understand the kinds of information it collects on sites across
      the web. The Markup will use the data collected in this study
      to create investigative journalism around the kinds of information
      Facebook collects about you, and where.
    deprecated: true
    url: https://github.com/mozilla-rally/facebook-pixel-hunt
    notification_emails:
      - than@mozilla.com
      - jepstein@mozilla.com
    branch: main
    metrics_files:
      - metrics.yaml
    ping_files:
      - pings.yaml
    dependencies:
      - glean-js
    moz_pipeline_metadata_defaults:
      jwe_mappings:
        - source_field_path: /payload
          decrypted_field_path: ""
      expiration_policy:
        collect_through_date: "2022-07-13"
    channels:
      - v1_name: rally-markup-fb-pixel-hunt
        app_id: rally-markup-fb-pixel-hunt
    skip_documentation: true

  - app_name: glean_dictionary
    canonical_app_name: Glean Dictionary
    app_description: |
      The Glean Dictionary documents the data collected
      by Mozilla projects that use Glean.
    url: https://github.com/mozilla/glean-dictionary
    notification_emails:
      - aplacitelli@mozilla.com
      - glean-team@mozilla.com
    branch: main
    metrics_files:
      - src/telemetry/metrics.yaml
    ping_files:
      - src/telemetry/pings.yaml
    dependencies:
      - glean-js
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 400
    channels:
      - v1_name: glean-dictionary
        app_id: glean-dictionary

  - app_name: mdn_yari
    canonical_app_name: Mozilla Developer Network
    app_description: |
      MDN Web Docs is an open-source, collaborative project documenting Web
      platform technologies, including CSS, HTML, JavaScript, and Web APIs.
      MDN also provides an extensive set of learning resources for beginning
      developers and students.
    url: https://github.com/mdn/yari
    notification_emails:
      - caugner@mozilla.com
      - tlong@mozilla.com
      - glean-team@mozilla.com
    branch: main
    metrics_files:
      - client/src/telemetry/metrics.yaml
    ping_files:
      - client/src/telemetry/pings.yaml
    dependencies:
      - glean-js
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130
      geoip_skip_entries: 2
    channels:
      - v1_name: mdn-yari
        app_id: mdn-yari

  - app_name: rally_citp_search_engine_usage
    canonical_app_name: Search Engine Usage and Result Quality
    app_description: |
      In a collaboration between researchers at Princeton University’s
      Center for Information Technology Policy and Mozilla, this study
      examines the search engine market and how individuals interact
      with search engines. The motivation for this research is to
      understand how users interact with and make choices about search
      engines. Understanding the search engine marketplace will inform
      competition policy, promoting a diverse digital ecosystem that
      benefits users.
    deprecated: true
    url: https://github.com/mozilla-rally/search-engine-usage-study
    notification_emails:
      - than@mozilla.com
      - jepstein@mozilla.com
      - betling@mozilla.com
      - rhelmer@mozilla.com
    branch: main
    metrics_files:
      - metrics.yaml
    ping_files:
      - pings.yaml
    dependencies:
      - glean-js
    moz_pipeline_metadata_defaults:
      jwe_mappings:
        - source_field_path: /payload
          decrypted_field_path: ""
      expiration_policy:
        collect_through_date: "2023-03-27"
    channels:
      - v1_name: rally-citp-search-engine-usage
        app_id: rally-citp-search-engine-usage
    skip_documentation: true

  - app_name: bedrock
    canonical_app_name: www.mozilla.org
    app_description: The Mozilla website www.mozilla.org
    url: https://github.com/mozilla/bedrock
    notification_emails:
      - agibson@mozilla.com
    branch: main
    metrics_files:
      - glean/metrics.yaml
    dependencies:
      - glean-js
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 180
    channels:
      - v1_name: bedrock
        app_id: bedrock

  - app_name: rally_attention_stream
    canonical_app_name: Rally Attention Stream
    app_description: |
      The Attention Stream is an ongoing, cross-browser data collection
      to understand the state of the internet in 2022 and beyond.
    deprecated: true
    url: https://github.com/mozilla-rally/rally
    notification_emails:
      - than@mozilla.com
      - betling@mozilla.com
      - rhelmer@mozilla.com
      - jmoradi@mozilla.com
      - aagarwal@mozilla.com
    branch: main
    metrics_files:
      - extensions/attention-stream/metrics.yaml
    ping_files:
      - extensions/attention-stream/pings.yaml
    dependencies:
      - glean-js
    moz_pipeline_metadata_defaults:
      jwe_mappings:
        - source_field_path: /payload
          decrypted_field_path: ""
      expiration_policy:
        collect_through_date: "2023-03-27"
    channels:
      - v1_name: rally-attention-stream
        app_id: rally-attention-stream
    skip_documentation: true

  - app_name: viu_politica
    canonical_app_name: Viu Politica
    app_description: |
      This is a "spin-off" of the Mozilla YouTube RegretsReporter extension.
      It is an opt-in browser extension where users can anonymously tag videos
      related to the 2022 Brazilian Elections.
    url: https://github.com/mozilla/viu-politica
    notification_emails:
      - chico@mozillafoundation.org
      - ranadheer@mozillafoundation.org
    branch: main
    metrics_files:
      - source/telemetry/metrics.yaml
    ping_files:
      - source/telemetry/pings.yaml
    dependencies:
      - glean-js
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 365
    channels:
      - v1_name: viu-politica
        app_id: viu.politica
        deprecated: true

  - app_name: treeherder
    canonical_app_name: Treeherder
    app_description: |
      Internal Developer dashboard for CI results
    url: https://github.com/mozilla/treeherder
    notification_emails:
      - jmaher@mozilla.com
    branch: master
    metrics_files:
      - ui/glean/metrics.yaml
    ping_files:
      - ui/glean/pings.yaml
    dependencies:
      - glean-js
    channels:
      - v1_name: treeherder
        app_id: treeherder
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130

  - app_name: firefox_desktop_background_tasks
    canonical_app_name: Firefox Desktop background tasks
    app_description: |
      Background tasks of Firefox Desktop.
      Currently used by `BackgroundTask_removeDirectory`.
    url: https://github.com/mozilla/gecko-dev
    notification_emails:
      - necko@mozilla.com
      - krosylight@mozilla.com
      - vgosu@mozilla.com
    branch: master
    metrics_files:
      - browser/components/metrics.yaml
      - toolkit/components/backgroundtasks/metrics.yaml
      - toolkit/components/crashes/metrics.yaml
      - toolkit/mozapps/defaultagent/metrics.yaml
    ping_files:
      - toolkit/components/backgroundtasks/pings.yaml
      - toolkit/components/crashes/pings.yaml
      - toolkit/mozapps/defaultagent/pings.yaml
    dependencies:
      - glean-core
    channels:
      - v1_name: firefox-desktop-background-tasks
        app_id: firefox.desktop.background.tasks
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 400

  - app_name: accounts_frontend
    canonical_app_name: Mozilla Accounts Frontend
    app_description: |
      Mozilla Accounts is Mozilla's authentication solution
      for account-based end-user services and features.
    url: https://github.com/mozilla/fxa
    notification_emails:
      - fxa-staff@mozilla.com
      - akomarzewski@mozilla.com
    branch: main
    metrics_files:
      - packages/fxa-shared/metrics/glean/fxa-ui-metrics.yaml
    ping_files:
      - packages/fxa-shared/metrics/glean/fxa-ui-pings.yaml
    dependencies:
      - glean-js
    channels:
      - v1_name: accounts-frontend
        app_id: accounts.frontend
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 760
      geoip_skip_entries: 1

  - app_name: accounts_backend
    canonical_app_name: Mozilla Accounts Backend
    app_description: |
      Mozilla Accounts is Mozilla's authentication solution
      for account-based end-user services and features.
    url: https://github.com/mozilla/fxa
    notification_emails:
      - fxa-staff@mozilla.com
      - akomarzewski@mozilla.com
    branch: main
    metrics_files:
      - packages/fxa-shared/metrics/glean/fxa-backend-metrics.yaml
      - packages/fxa-shared/metrics/glean/glean-backend-metrics-compat.yaml
    ping_files:
      - packages/fxa-shared/metrics/glean/fxa-backend-pings.yaml
    dependencies:
      - glean-server-metrics-compat
    channels:
      - v1_name: accounts-backend
        app_id: accounts.backend
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 760

  - app_name: accounts_cirrus
    canonical_app_name: "Mozilla Accounts (Cirrus)"
    app_description: >
      Mozilla accounts is Mozilla's authentication solution
      for account-based end-user services and features.
    url: https://github.com/mozilla/fxa
    notification_emails:
      - fxa-staff@mozilla.com
      - project-nimbus@mozilla.com
    branch: main
    metrics_files: []
    ping_files: []
    dependencies:
      - glean-core
      - nimbus-cirrus
    channels:
      - v1_name: accounts-cirrus
        app_id: accounts.cirrus
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 760

  - app_name: monitor_cirrus
    canonical_app_name: "Mozilla Monitor (Cirrus)"
    app_description: >
      Mozilla Monitor arms you with tools
      to keep your personal information safe.
    url: https://github.com/mozilla/blurts-server
    notification_emails:
      - chumphreys@mozilla.com
      - project-nimbus@mozilla.com
      - jozhou@mozilla.com
      - rhelmer@mozilla.com
    branch: main
    metrics_files: []
    ping_files: []
    dependencies:
      - glean-core
      - nimbus-cirrus
    channels:
      - v1_name: monitor-cirrus
        app_id: monitor.cirrus
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 760

  - app_name: debug_ping_view
    canonical_app_name: "Glean Debug Ping Viewer"
    app_description: >
      Web application for viewing Glean debug pings in real-time.
    url: https://github.com/mozilla/debug-ping-view
    notification_emails:
      - glean-team@mozilla.com
    branch: main
    metrics_files:
      - src/glean/metrics.yaml
    ping_files: []
    dependencies:
      - glean-js
    channels:
      - v1_name: debug-ping-view
        app_id: debug-ping-view
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 400

  - app_name: monitor_frontend
    canonical_app_name: "Mozilla Monitor (Frontend)"
    app_description: >
      Mozilla Monitor arms you with tools
      to keep your personal information safe.
    url: https://github.com/mozilla/blurts-server
    notification_emails:
      - rhelmer@mozilla.com
    branch: main
    metrics_files:
      - src/telemetry/metrics.yaml
    ping_files: []
    dependencies:
      - glean-js
    channels:
      - v1_name: monitor-frontend
        app_id: monitor.frontend
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 760

  - app_name: monitor_backend
    canonical_app_name: "Mozilla Monitor (Backend)"
    app_description: >
      Mozilla Monitor arms you with tools
      to keep your personal information safe.
    url: https://github.com/mozilla/blurts-server
    notification_emails:
      - rhelmer@mozilla.com
    branch: main
    metrics_files:
      - src/telemetry/backend-metrics.yaml
    ping_files: []
    dependencies:
      - glean-server
    channels:
      - v1_name: monitor-backend
        app_id: monitor.backend
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 760

  - app_name: moso_mastodon_backend
    canonical_app_name: Mozilla Social Mastodon Backend
    app_description: |
      Mastodon instance for Mozilla Social
    url: https://github.com/MozillaSocial/mastodon
    notification_emails:
      - breyes@mozilla.com
    branch: main
    metrics_files:
      - .glean/metrics.yaml
    ping_files: []
    dependencies:
      - glean-server-metrics-compat
    channels:
      - v1_name: moso-mastodon-backend
        app_id: moso.mastodon.backend
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130  # 37 months

  - app_name: moso_mastodon_web
    canonical_app_name: Mozilla Social Web App
    app_description: Web client for Mozilla Social
    url: https://github.com/MozillaSocial/elk
    notification_emails:
      - kdemtchouk@mozilla.com
      - klong@mozilla.com
    branch: main
    metrics_files:
      - telemetry/metrics.yaml
    ping_files: []
    dependencies:
      - glean-js
    channels:
      - v1_name: moso-mastodon-web
        app_id: moso-mastodon-web
        deprecated: true
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130  # 37 months

  - app_name: moso_mastodon_android
    canonical_app_name: Mozilla Social Android App
    app_description: Android client for Mozilla Social
    deprecated: true
    url: https://github.com/MozillaSocial/mozilla-social-android
    notification_emails:
      - kdemtchouk@mozilla.com
      - klong@mozilla.com
    branch: main
    metrics_files:
      - core/analytics/metrics.yaml
    ping_files: []
    dependencies:
      - glean-core
    channels:
      - v1_name: moso-mastodon-android-nightly
        app_id: org.mozilla.social.nightly
        app_channel: nightly
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 1130  # 37 months

  - app_name: tiktokreporter_ios
    canonical_app_name: TikTok Reporter (iOS)
    app_description: |
      An app for iOS to enable Mozilla Foundation research into TikTok
    url: https://github.com/MozillaFoundation/tiktok-reporter-app-ios
    notification_emails:
      - jessed@mozillafoundation.org
      - tlong@mozilla.com
    branch: main
    metrics_files:
      - "TikTok Reporter/metrics.yaml"
    ping_files:
      - "TikTok Reporter/pings.yaml"
    dependencies:
      - glean-core
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 400
    channels:
      - v1_name: tiktokreporter-ios
        app_id: org.mozilla.ios.TikTok-Reporter
        app_channel: release
        description: |
          This is the base iOS TikTok reporter application
      - v1_name: tiktokreporter-ios-share-extension
        app_id: org.mozilla.ios.TikTok-Reporter.TikTok-ReporterShare
        app_channel: release
        description: |
          This is the share extension that works with the base iOS
          TikTok reporter. Due to how Apple sets bundle identifiers,
          this ends up having a different identifier.

  - app_name: tiktokreporter_android
    canonical_app_name: TikTok Reporter (Android)
    app_description: |
      An app for Android to enable Mozilla Foundation research into TikTok
    url: https://github.com/MozillaFoundation/tiktok-reporter-app-android
    notification_emails:
      - jessed@mozillafoundation.org
      - tlong@mozilla.com
    branch: main
    metrics_files:
      - "app/metrics.yaml"
    ping_files:
      - "app/pings.yaml"
    dependencies:
      - glean-core
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 400
    channels:
      - v1_name: tiktokreporter-android
        app_id: org.mozilla.tiktokreporter

  - app_name: relay_backend
    canonical_app_name: Firefox Relay Backend
    app_description: |
      Relay provides email and phone masks to protect users from hackers and
      trackers. The Relay backend server provides an API for Firefox, the Relay
      add-on, and the Relay website. It also processes Mozilla account updates,
      emails, phone calls, and text messages.
    url: https://github.com/mozilla/fx-private-relay
    notification_emails:
      - jwhitlock@mozilla.com
    branch: main
    metrics_files:
      - telemetry/glean/relay-server-metrics.yaml
    ping_files: []
    dependencies:
      - glean-server
    channels:
      - v1_name: relay-backend
        app_id: relay.backend
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 400

  - app_name: gleanjs_docs
    canonical_app_name: "Glean.js Documentation"
    app_description: >
      Glean.js user and developer documentation.
    url: https://github.com/mozilla/glean.js
    notification_emails:
      - glean-team@mozilla.com
    branch: main
    metrics_files: []
    ping_files: []
    dependencies:
      - glean-js
    channels:
      - v1_name: gleanjs-docs
        app_id: gleanjs-docs
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 400

  - app_name: ads_backend
    canonical_app_name: Mozilla Ads Backend Service
    app_description: |
      Mozilla Ads Backend Service
    url: https://github.com/mozilla-services/mars-telemetry
    notification_emails:
      - gleonard@mozilla.com
    branch: main
    metrics_files:
      - telemetry/glean/metrics.yaml
    ping_files: []
    dependencies:
      - glean-server
    channels:
      - v1_name: ads-backend
        app_id: ads.backend
    moz_pipeline_metadata_defaults:
      expiration_policy:
        delete_after_days: 400
